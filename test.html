<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Photo GIS Viewer - ãƒ†ã‚¹ãƒˆ & ãƒ‡ãƒãƒƒã‚°</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        .test-section h3 {
            margin-top: 0;
            color: #333;
        }
        .status {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
        }
        .status.ok { background: #d4edda; color: #155724; }
        .status.warning { background: #fff3cd; color: #856404; }
        .status.error { background: #f8d7da; color: #721c24; }
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 15px 0;
        }
        .info-item {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 5px;
            border-left: 4px solid #007bff;
        }
        .test-button {
            background: #007bff;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        .test-button:hover {
            background: #0056b3;
        }
        .log-area {
            background: #212529;
            color: #fff;
            padding: 15px;
            border-radius: 5px;
            font-family: monospace;
            height: 200px;
            overflow-y: auto;
            margin-top: 15px;
        }
        .nav-links {
            text-align: center;
            margin: 20px 0;
        }
        .nav-links a {
            display: inline-block;
            margin: 0 10px;
            padding: 10px 20px;
            background: #28a745;
            color: white;
            text-decoration: none;
            border-radius: 5px;
        }
        .nav-links a:hover {
            background: #1e7e34;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ§ª Photo GIS Viewer - ãƒ†ã‚¹ãƒˆ & ãƒ‡ãƒãƒƒã‚°</h1>
            <p>ã‚·ã‚¹ãƒ†ãƒ ã®å‹•ä½œçŠ¶æ³ã¨ä¿®æ­£å†…å®¹ã‚’ç¢ºèªã§ãã¾ã™</p>
        </div>

        <div class="nav-links">
            <a href="index.html">ğŸ“· æ¨™æº–ç‰ˆã‚’é–‹ã</a>
            <a href="index-lite.html">âš¡ è»½é‡ç‰ˆã‚’é–‹ã</a>
            <a href="export.html">ğŸ“Š ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆç”»é¢</a>
        </div>

        <div class="test-section">
            <h3>ğŸ” ãƒ–ãƒ©ã‚¦ã‚¶ã‚µãƒãƒ¼ãƒˆçŠ¶æ³</h3>
            <div class="info-grid">
                <div class="info-item">
                    <strong>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ:</strong><br>
                    <span id="userAgent">æ¤œå‡ºä¸­...</span>
                </div>
                <div class="info-item">
                    <strong>File System Access API:</strong><br>
                    <span id="fileSystemApi">æ¤œå‡ºä¸­...</span>
                </div>
                <div class="info-item">
                    <strong>WebKit Directory API:</strong><br>
                    <span id="webkitDirectory">æ¤œå‡ºä¸­...</span>
                </div>
                <div class="info-item">
                    <strong>ã‚µãƒãƒ¼ãƒˆãƒ¬ãƒ™ãƒ«:</strong><br>
                    <span id="supportLevel">æ¤œå‡ºä¸­...</span>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h3>ğŸ“š ãƒ©ã‚¤ãƒ–ãƒ©ãƒªèª­ã¿è¾¼ã¿çŠ¶æ³</h3>
            <div class="info-grid">
                <div class="info-item">
                    <strong>Leaflet:</strong><br>
                    <span id="leafletStatus">æ¤œå‡ºä¸­...</span>
                </div>
                <div class="info-item">
                    <strong>ExifReader:</strong><br>
                    <span id="exifReaderStatus">æ¤œå‡ºä¸­...</span>
                </div>
                <div class="info-item">
                    <strong>EXIF.js:</strong><br>
                    <span id="exifJsStatus">æ¤œå‡ºä¸­...</span>
                </div>
                <div class="info-item">
                    <strong>JSZip:</strong><br>
                    <span id="jszipStatus">æ¤œå‡ºä¸­...</span>
                </div>
            </div>
            <button class="test-button" onclick="testFallbackLoader()">ğŸ”„ ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½ã‚’ãƒ†ã‚¹ãƒˆ</button>
        </div>

        <div class="test-section">
            <h3>ğŸ’¾ ãƒ¡ãƒ¢ãƒªæƒ…å ±</h3>
            <div class="info-grid">
                <div class="info-item">
                    <strong>ä½¿ç”¨ä¸­:</strong><br>
                    <span id="memoryUsed">æ¤œå‡ºä¸­...</span>
                </div>
                <div class="info-item">
                    <strong>ç·ä½¿ç”¨é‡:</strong><br>
                    <span id="memoryTotal">æ¤œå‡ºä¸­...</span>
                </div>
                <div class="info-item">
                    <strong>åˆ¶é™:</strong><br>
                    <span id="memoryLimit">æ¤œå‡ºä¸­...</span>
                </div>
                <div class="info-item">
                    <strong>ä½¿ç”¨ç‡:</strong><br>
                    <span id="memoryPercent">æ¤œå‡ºä¸­...</span>
                </div>
            </div>
            <button class="test-button" onclick="updateMemoryInfo()">ğŸ”„ ãƒ¡ãƒ¢ãƒªæƒ…å ±ã‚’æ›´æ–°</button>
        </div>

        <div class="test-section">
            <h3>ğŸ§ª æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ</h3>
            <button class="test-button" onclick="testFileHandler()">ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«ãƒãƒ³ãƒ‰ãƒ©ãƒ¼</button>
            <button class="test-button" onclick="testExifHandler()">ğŸ“· EXIFå‡¦ç†</button>
            <button class="test-button" onclick="testGisExporter()">ğŸ“Š GISã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</button>
            <button class="test-button" onclick="testErrorHandling()">âš ï¸ ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°</button>
            <button class="test-button" onclick="clearLog()">ğŸ—‘ï¸ ãƒ­ã‚°ã‚¯ãƒªã‚¢</button>
        </div>

        <div class="test-section">
            <h3>ğŸ“‹ ãƒ†ã‚¹ãƒˆãƒ­ã‚°</h3>
            <div id="testLog" class="log-area">ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„...</div>
        </div>

        <div class="test-section">
            <h3>âœ… ä¿®æ­£å®Œäº†é …ç›®</h3>
            <ul>
                <li>âœ… <strong>çµ¶å¯¾ãƒ‘ã‚¹å•é¡Œã®è§£æ±º</strong> - getAbsolutePath() ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®‰å…¨ã«ä¿®æ­£</li>
                <li>âœ… <strong>ãƒ–ãƒ©ã‚¦ã‚¶ã‚µãƒãƒ¼ãƒˆæ‹¡å¼µ</strong> - Safari/Firefox ã§ WebKit Directory API å¯¾å¿œ</li>
                <li>âœ… <strong>ãƒ¡ãƒ¢ãƒªç®¡ç†æ”¹å–„</strong> - ãƒãƒƒãƒå‡¦ç†ã¨ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–ã‚’å®Ÿè£…</li>
                <li>âœ… <strong>ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–</strong> - è©³ç´°ãªã‚¨ãƒ©ãƒ¼æƒ…å ±ã¨è‡ªå‹•å¾©æ—§æ©Ÿèƒ½</li>
                <li>âœ… <strong>CDNä¾å­˜è§£æ±º</strong> - ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½ã¨æ©Ÿèƒ½ç¸®é€€ãƒ¢ãƒ¼ãƒ‰</li>
            </ul>
        </div>
    </div>

    <!-- ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®èª­ã¿è¾¼ã¿ï¼ˆãƒ†ã‚¹ãƒˆç”¨ï¼‰ -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/exifreader@4.16.0/dist/exif-reader.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/exif-js/2.3.0/exif.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

    <!-- ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆ -->
    <script src="libs/fallback-loader.js"></script>
    <script src="js/file-handler.js"></script>
    <script src="js/exif-handler.js"></script>
    <script src="js/gis-exporter.js"></script>

    <script>
        // ãƒ†ã‚¹ãƒˆç”¨ã®ãƒ­ã‚°æ©Ÿèƒ½
        function log(message, type = 'info') {
            const logArea = document.getElementById('testLog');
            const timestamp = new Date().toLocaleTimeString();
            const colorMap = {
                'info': '#fff',
                'success': '#28a745',
                'warning': '#ffc107',
                'error': '#dc3545'
            };
            
            logArea.innerHTML += `<div style="color: ${colorMap[type]};">[${timestamp}] ${message}</div>`;
            logArea.scrollTop = logArea.scrollHeight;
        }

        function clearLog() {
            document.getElementById('testLog').innerHTML = '';
            log('ãƒ­ã‚°ã‚’ã‚¯ãƒªã‚¢ã—ã¾ã—ãŸ', 'info');
        }

        // ãƒ–ãƒ©ã‚¦ã‚¶ã‚µãƒãƒ¼ãƒˆçŠ¶æ³ã®æ¤œå‡º
        function detectBrowserSupport() {
            // ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
            document.getElementById('userAgent').textContent = navigator.userAgent;

            // File System Access API
            const hasFileSystemApi = 'showDirectoryPicker' in window;
            document.getElementById('fileSystemApi').innerHTML = hasFileSystemApi ? 
                '<span class="status ok">ã‚µãƒãƒ¼ãƒˆ</span>' : 
                '<span class="status error">éã‚µãƒãƒ¼ãƒˆ</span>';

            // WebKit Directory API
            const input = document.createElement('input');
            const hasWebkitDirectory = 'webkitdirectory' in input;
            document.getElementById('webkitDirectory').innerHTML = hasWebkitDirectory ? 
                '<span class="status ok">ã‚µãƒãƒ¼ãƒˆ</span>' : 
                '<span class="status error">éã‚µãƒãƒ¼ãƒˆ</span>';

            // ã‚µãƒãƒ¼ãƒˆãƒ¬ãƒ™ãƒ«
            let supportLevel = 'BASIC';
            if (hasFileSystemApi) {
                supportLevel = 'FULL';
            } else if (hasWebkitDirectory) {
                supportLevel = 'WEBKIT';
            }
            
            const statusClass = supportLevel === 'FULL' ? 'ok' : 
                               supportLevel === 'WEBKIT' ? 'warning' : 'error';
            document.getElementById('supportLevel').innerHTML = 
                `<span class="status ${statusClass}">${supportLevel}</span>`;

            log(`ãƒ–ãƒ©ã‚¦ã‚¶ã‚µãƒãƒ¼ãƒˆãƒ¬ãƒ™ãƒ«: ${supportLevel}`, 'info');
        }

        // ãƒ©ã‚¤ãƒ–ãƒ©ãƒªèª­ã¿è¾¼ã¿çŠ¶æ³ã®ç¢ºèª
        function checkLibraries() {
            const libraries = [
                { name: 'Leaflet', check: () => typeof L !== 'undefined', element: 'leafletStatus' },
                { name: 'ExifReader', check: () => typeof ExifReader !== 'undefined', element: 'exifReaderStatus' },
                { name: 'EXIF.js', check: () => typeof EXIF !== 'undefined', element: 'exifJsStatus' },
                { name: 'JSZip', check: () => typeof JSZip !== 'undefined', element: 'jszipStatus' }
            ];

            libraries.forEach(lib => {
                const isLoaded = lib.check();
                const element = document.getElementById(lib.element);
                element.innerHTML = isLoaded ? 
                    '<span class="status ok">èª­ã¿è¾¼ã¿æ¸ˆã¿</span>' : 
                    '<span class="status error">æœªèª­ã¿è¾¼ã¿</span>';
                
                log(`${lib.name}: ${isLoaded ? 'âœ…' : 'âŒ'}`, isLoaded ? 'success' : 'error');
            });
        }

        // ãƒ¡ãƒ¢ãƒªæƒ…å ±ã®æ›´æ–°
        function updateMemoryInfo() {
            if (performance.memory) {
                const used = Math.round(performance.memory.usedJSHeapSize / 1024 / 1024);
                const total = Math.round(performance.memory.totalJSHeapSize / 1024 / 1024);
                const limit = Math.round(performance.memory.jsHeapSizeLimit / 1024 / 1024);
                const percent = ((used / limit) * 100).toFixed(1);

                document.getElementById('memoryUsed').textContent = `${used}MB`;
                document.getElementById('memoryTotal').textContent = `${total}MB`;
                document.getElementById('memoryLimit').textContent = `${limit}MB`;
                
                const percentElement = document.getElementById('memoryPercent');
                const statusClass = percent > 80 ? 'error' : percent > 60 ? 'warning' : 'ok';
                percentElement.innerHTML = `<span class="status ${statusClass}">${percent}%</span>`;

                log(`ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡: ${used}MB/${limit}MB (${percent}%)`, 'info');
            } else {
                ['memoryUsed', 'memoryTotal', 'memoryLimit', 'memoryPercent'].forEach(id => {
                    document.getElementById(id).innerHTML = '<span class="status warning">åˆ©ç”¨ä¸å¯</span>';
                });
                log('ãƒ¡ãƒ¢ãƒªæƒ…å ±ãŒåˆ©ç”¨ã§ãã¾ã›ã‚“', 'warning');
            }
        }

        // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆ
        function testFallbackLoader() {
            log('ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½ã‚’ãƒ†ã‚¹ãƒˆä¸­...', 'info');
            
            if (typeof window.fallbackLoader !== 'undefined') {
                // å„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®çŠ¶æ³ã‚’ãƒã‚§ãƒƒã‚¯
                const libraries = ['leaflet', 'exifreader', 'exifjs', 'jszip'];
                libraries.forEach(lib => {
                    const isLoaded = window.fallbackLoader.isLibraryLoaded(lib);
                    log(`${lib}: ${isLoaded ? 'âœ… èª­ã¿è¾¼ã¿æ¸ˆã¿' : 'âŒ æœªèª­ã¿è¾¼ã¿'}`, 
                        isLoaded ? 'success' : 'warning');
                });
                
                log('ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½ã¯æ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã¾ã™', 'success');
            } else {
                log('âŒ ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ­ãƒ¼ãƒ€ãƒ¼ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“', 'error');
            }
        }

        // ãƒ•ã‚¡ã‚¤ãƒ«ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã®ãƒ†ã‚¹ãƒˆ
        function testFileHandler() {
            log('ãƒ•ã‚¡ã‚¤ãƒ«ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’ãƒ†ã‚¹ãƒˆä¸­...', 'info');
            
            try {
                const fileHandler = new FileHandler();
                log(`âœ… FileHandler ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆæˆåŠŸ`, 'success');
                log(`ã‚µãƒãƒ¼ãƒˆãƒ¬ãƒ™ãƒ«: ${fileHandler.supportLevel}`, 'info');
                log(`ãƒ•ã‚©ãƒ«ãƒ€é¸æŠã‚µãƒãƒ¼ãƒˆ: ${fileHandler.isSupported() ? 'Yes' : 'No'}`, 'info');
            } catch (error) {
                log(`âŒ FileHandler ã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        }

        // EXIF ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã®ãƒ†ã‚¹ãƒˆ
        function testExifHandler() {
            log('EXIF ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’ãƒ†ã‚¹ãƒˆä¸­...', 'info');
            
            try {
                const exifHandler = new ExifHandler();
                log(`âœ… ExifHandler ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆæˆåŠŸ`, 'success');
                log(`ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰: ${exifHandler.debugMode ? 'ON' : 'OFF'}`, 'info');
                log(`ãƒãƒƒãƒã‚µã‚¤ã‚º: ${exifHandler.maxBatchSize}`, 'info');
                
                // ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã®ãƒ†ã‚¹ãƒˆ
                exifHandler.logMemoryUsage();
            } catch (error) {
                log(`âŒ ExifHandler ã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        }

        // GIS ã‚¨ã‚¯ã‚¹ãƒãƒ¼ã‚¿ãƒ¼ã®ãƒ†ã‚¹ãƒˆ
        function testGisExporter() {
            log('GIS ã‚¨ã‚¯ã‚¹ãƒãƒ¼ã‚¿ãƒ¼ã‚’ãƒ†ã‚¹ãƒˆä¸­...', 'info');
            
            try {
                const gisExporter = new GISExporter();
                log(`âœ… GISExporter ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆæˆåŠŸ`, 'success');
                log(`ã‚µãƒãƒ¼ãƒˆå½¢å¼: ${gisExporter.getSupportedFormats().join(', ')}`, 'info');
                
                // ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã§ã®å‹•ä½œç¢ºèª
                const testPath = 'test/photo.jpg';
                const safePath = gisExporter.getRelativePath(testPath);
                log(`ãƒ‘ã‚¹å‡¦ç†ãƒ†ã‚¹ãƒˆ: "${testPath}" â†’ "${safePath}"`, 'success');
            } catch (error) {
                log(`âŒ GISExporter ã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
            }
        }

        // ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®ãƒ†ã‚¹ãƒˆ
        function testErrorHandling() {
            log('ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’ãƒ†ã‚¹ãƒˆä¸­...', 'info');
            
            // æ„å›³çš„ã«ã‚¨ãƒ©ãƒ¼ã‚’ç™ºç”Ÿã•ã›ã¦å‡¦ç†ã‚’ãƒ†ã‚¹ãƒˆ
            try {
                throw new Error('ãƒ†ã‚¹ãƒˆç”¨ã‚¨ãƒ©ãƒ¼');
            } catch (error) {
                const errorInfo = {
                    name: error.name,
                    message: error.message,
                    userAgent: navigator.userAgent,
                    timestamp: new Date().toISOString()
                };
                
                log(`âœ… ã‚¨ãƒ©ãƒ¼æƒ…å ±ã®è©³ç´°å–å¾—: ${JSON.stringify(errorInfo, null, 2)}`, 'success');
            }
            
            // ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¨ãƒ©ãƒ¼ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
            const securityError = new Error('ãƒ†ã‚¹ãƒˆç”¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¨ãƒ©ãƒ¼');
            securityError.name = 'SecurityError';
            
            let errorMessage = securityError.message;
            if (securityError.name === 'SecurityError') {
                errorMessage = 'ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®šã«ã‚ˆã‚Šã€ãƒ•ã‚©ãƒ«ãƒ€ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã›ã‚“ã€‚';
            }
            
            log(`âœ… ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¨ãƒ©ãƒ¼å‡¦ç†: "${errorMessage}"`, 'success');
        }

        // åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', function() {
            log('ğŸš€ Photo GIS Viewer ãƒ†ã‚¹ãƒˆã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–', 'success');
            
            // å„ç¨®æ¤œå‡ºã‚’å®Ÿè¡Œ
            detectBrowserSupport();
            
            // ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒèª­ã¿è¾¼ã¾ã‚Œã‚‹ã¾ã§å°‘ã—å¾…ã¤
            setTimeout(() => {
                checkLibraries();
                updateMemoryInfo();
            }, 1000);
            
            log('ã™ã¹ã¦ã®åˆæœŸãƒã‚§ãƒƒã‚¯ãŒå®Œäº†ã—ã¾ã—ãŸ', 'success');
        });

        // å®šæœŸçš„ãªãƒ¡ãƒ¢ãƒªç›£è¦–
        setInterval(updateMemoryInfo, 30000); // 30ç§’ã”ã¨
    </script>
</body>
</html>
